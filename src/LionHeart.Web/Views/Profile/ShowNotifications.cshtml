@model ShowNotificationsViewModel

@{
    ViewData["Title"] = "Уведомления";
}

<h2>Уведомления</h2>
<br />
@if (Model.Notifications.Any())
{
    @foreach (var notification in Model.Notifications)
    {
        <div class="card">
            <div class="text-end">
                <button class="custom-btn-link btn" style="width: 40px;" onclick="deleteNotification('@notification.Id')">✕</button>
            </div>
            <p class="p-5">@notification.Content</p>
        </div>
        <br />
    }
}
else
{
    <div class="text-center">
        <h5>В данный момент у вас нет уведомлений</h5>
    </div>
}

<script>
    async function deleteNotification(notificationId) {
        event.preventDefault();
        const response = await fetch("/Notifications/DeleteNotification", {
            method: "POST",
            headers: {
                "Accept": "application/json",
                "Content-Type": "application/json"
            },
            body: JSON.stringify(notificationId)
        });
        window.location.pathname = "/Profile/ShowNotifications";
    }
</script>